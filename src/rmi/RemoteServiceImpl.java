package rmi;import java.io.FileOutputStream;import java.io.IOException;import java.io.ObjectOutputStream;import java.rmi.Remote;import java.rmi.RemoteException;import java.rmi.registry.LocateRegistry;import java.rmi.registry.Registry;import java.rmi.server.ServerNotActiveException;import java.rmi.server.UnicastRemoteObject;public class RemoteServiceImpl implements RemoteService {    private static final String BINDING_NAME = "connection";    @Override    public void infoPerson(Person person) throws IOException {        person.setAge ( 22 );        person.setName ( "Samat" );        person.setId ( 1 );        FileOutputStream outputStream = new FileOutputStream ( "C:\\Seria\\save.ser" );        ObjectOutputStream objectOutputStream = new ObjectOutputStream ( outputStream );        objectOutputStream.writeObject ( person );        objectOutputStream.close ();    }    @Override    public void sayHello(Person name) throws RemoteException {        try {            System.out.println ( name.getName () + " from " + UnicastRemoteObject.getClientHost () );        } catch (ServerNotActiveException e) {            System.out.println ( e.getMessage () );        }        if ("Killer".equals ( name )) {            System.out.println ( "Shutting down..." );            System.exit ( 1 );        }    }    public static void main(String... args) throws Exception {        System.out.print ( "Starting registry..." );        final Registry registry = LocateRegistry.createRegistry ( 2099 );        System.out.println ( " OK" );        final RemoteService service = new RemoteServiceImpl ();        Remote stub = UnicastRemoteObject.exportObject ( service, 2099 );        Person person = new Person ();        RemoteService remote = new RemoteServiceImpl ();        remote.infoPerson ( person );        System.out.print ( "Binding service..." );        registry.bind ( BINDING_NAME, stub );        System.out.println ( " OK" );//		while (true) {//			Thread.sleep(Integer.MAX_VALUE);//		}    }}